"use strict";(self.webpackChunkcins_admin=self.webpackChunkcins_admin||[]).push([[292],{3392:function(e,t,n){n.d(t,{iL:function(){return h},yn:function(){return d},o5:function(){return Z},D0:function(){return j},iE:function(){return o},wh:function(){return s},yr:function(){return f},AU:function(){return g},ln:function(){return x},Wk:function(){return m},tG:function(){return p},EU:function(){return c},JC:function(){return u}});var i=n(1413),r=n(4569),a=n.n(r)().create({baseURL:"http://103.84.90.55:30019/",timeout:2e4});a.interceptors.request.use((function(e){return e}),(function(e){return e.data={},e.data.msg="\u670d\u52a1\u5668\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\uff01",Promise.resolve(e)})),a.interceptors.response.use((function(e){if(200===e.status)return e}),(function(e){return Promise.reject(e)}));var l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,l){a((0,i.Z)({method:"get",url:e,params:t},n)).then((function(e){r(e)})).catch((function(e){l(e)}))}))},o=function(e){return l("api/config",e)},s=function(e){return l("api/configKey",e)},c=function(e){return l("api/setConfigKey",e)},d=function(e){return l("api/coin/del",e)},u=function(e){return l("api/coin/startOrStop",e)},h=function(e){return l("api/coin/addOrUpdate",e)},m=function(e){return l("api/coin/sellAll",e)},p=function(e){return l("api/coin/sellOne",e)},x=function(e){return l("api/coin/getPos",e)},g=function(e){return l("api/coin/getOrders",e)},f=function(e){return l("api/logs",e)},Z=function(e){return l("api/dlog",e)},j=function(e){return l("api/account",e)}},1292:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var i=n(1413),r=n(9439),a=n(2791),l=n(8120),o=n(3085),s=n(1333),c=n(7528),d=n(3099),u=n(3695),h=n(7309),m=n(4807),p=n(3392),x=n(1541),g=n(7031),f=n(184);function Z(e){var t=e.onSubmit,n=e.onReset,i=x.Z.useForm(),a=(0,r.Z)(i,1)[0];return(0,f.jsxs)(x.Z,{form:a,layout:"inline",onFinish:t,children:[(0,f.jsx)(x.Z.Item,{name:"coin",children:(0,f.jsx)(g.Z,{style:{margin:10},addonBefore:"\u5e01\u79cd",placeholder:"\u8f93\u5165\u641c\u7d22\u5e01\u79cd"})}),(0,f.jsx)(h.Z,{style:{margin:10},htmlType:"submit",type:"primary",children:"\u641c\u7d22"}),(0,f.jsx)(h.Z,{style:{margin:10},htmlType:"button",onClick:function(){a.resetFields(),n({coin:""})},children:"\u91cd\u7f6e"})]})}function j(e,t,n){return Math.min(Math.max(e,t),n)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="",n=(t=""===e?new Date:new Date(e)).getFullYear(),i=t.getMonth()+1;i<10&&(i="0"+i);var r=t.getDate();r<10&&(r="0"+r);var a=t.getHours();a<10&&(a="0"+a);var l=t.getMinutes();l<10&&(l="0"+l);var o=t.getSeconds();o<10&&(o="0"+o);var s=n+"-"+i+"-"+r+" "+a+":"+l+":"+o;return s}var y=n(3433),w=n(7323),b=n(5093),I=n(2014),S=n(9286),k=w.Z.Option;function C(e){var t=e.visible,n=e.onCancel,c=e.onCreate,u=e.onUpdate,m=e.loading,p=e.record,Z=e.title,j=x.Z.useForm(),v=(0,r.Z)(j,1)[0],C=x.Z.useForm(),F=(0,r.Z)(C,1)[0],A=(0,a.useState)(!1),O=(0,r.Z)(A,2),q=O[0],M=O[1],R=function(){M(!0)};a.useEffect((function(){t&&v.setFieldsValue({cancelTime:null===p||void 0===p?void 0:p.cancelTime,coin:null===p||void 0===p?void 0:p.coin,endTime:null===p||void 0===p?void 0:p.endTime,indicator:null===p||void 0===p?void 0:p.indicator,lever:null===p||void 0===p?void 0:p.lever,isNowDo:"true"===(null===p||void 0===p?void 0:p.isNowDo),startNowDo:"true"===(null===p||void 0===p?void 0:p.startNowDo),margin:null===p||void 0===p?void 0:p.margin,minAmount:null===p||void 0===p?void 0:p.minAmount,orderRate:null===p||void 0===p?void 0:p.orderRate,orderType:null===p||void 0===p?void 0:p.orderType,sellRate:null===p||void 0===p?void 0:p.sellRate,startTime:null===p||void 0===p?void 0:p.startTime,stopLoss:null===p||void 0===p?void 0:p.stopLoss,stopPft:null===p||void 0===p?void 0:p.stopPft,type:null===p||void 0===p?void 0:p.type,fOrderRate:null===p||void 0===p?void 0:p.fOrderRate,stopLossRate:null===p||void 0===p?void 0:p.stopLossRate})}),[p,v,t]);var P=(0,a.useState)([]),T=(0,r.Z)(P,2),D=T[0],N=T[1],B=(0,a.useState)(""),L=(0,r.Z)(B,2),z=L[0],U=L[1],J=(0,a.useState)("hy"),H=(0,r.Z)(J,2),K=H[0],E=H[1],Y=(0,a.useRef)(null),G=0,W=0;"\u4fee\u6539\u5e01\u79cd"===Z&&(G=null===p||void 0===p?void 0:p.stopPft,W=null===p||void 0===p?void 0:p.lever);var _=(0,a.useState)(G),Q=(0,r.Z)(_,2),V=Q[0],X=Q[1],$=(0,a.useState)(W),ee=(0,r.Z)($,2),te=ee[0],ne=ee[1],ie=function(e){""!==e&&void 0!==e?(N([].concat((0,y.Z)(D),[e])),setTimeout((function(){var e;null===(e=Y.current)||void 0===e||e.focus()}),0)):o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"\u6307\u6807\u4e0d\u80fd\u4e3a\u7a7a"})};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Z,{forceRender:!0,title:Z,visible:t,onCancel:n,onOk:function(){v.validateFields().then((function(e){p?u&&u((0,i.Z)((0,i.Z)({},e),{},{key:p.key,status:p.status})):c&&c(e)}))},maskClosable:!1,okButtonProps:{loading:m},width:"80%",bodyStyle:{height:2*window.innerHeight/3,overflowY:"auto"},children:(0,f.jsxs)(x.Z,{form:v,labelCol:{span:4},wrapperCol:{span:18},children:[(0,f.jsx)(x.Z.Item,{name:"coin",label:"\u5e01\u79cd",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"ETHUSDT"})}),(0,f.jsx)(x.Z.Item,{name:"type",label:"\u5e01\u79cd\u7c7b\u578b",rules:[{required:!0,message:"\u7c7b\u578b \u5fc5\u987b\u9009\u62e9"}],children:(0,f.jsxs)(w.Z,{onChange:function(e){return E(e)},children:[(0,f.jsx)(k,{value:"hy",children:"\u5408\u7ea6"}),(0,f.jsx)(k,{value:"xh",children:"\u73b0\u8d27"})]})}),(0,f.jsx)(x.Z.Item,{name:"orderType",label:"\u8ba2\u5355\u7c7b\u578b",rules:[{required:!0,message:"\u7c7b\u578b \u5fc5\u987b\u9009\u62e9"}],children:(0,f.jsxs)(w.Z,{children:["hy"===K&&(0,f.jsx)(k,{value:"maker",children:"\u53ea\u505aMaker"}),(0,f.jsx)(k,{value:"limit",children:"\u9650\u4ef7"}),(0,f.jsx)(k,{value:"market",children:"\u5e02\u4ef7"})]})}),(0,f.jsx)(x.Z.Item,{name:"orderRate",label:"\u4e0b\u5355\u5360\u6bd4",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{type:"number",placeholder:"1=1%"})}),(0,f.jsx)(x.Z.Item,{name:"fOrderRate",label:"\u9996\u6b21\u5f00\u5355\u767e\u5206\u6bd4",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{type:"number",placeholder:"1=1%"})}),(0,f.jsx)(x.Z.Item,{name:"minAmount",label:"\u6700\u5c0f\u4e0b\u5355\u91d1\u989d",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{type:"number",placeholder:"50=50U"})}),(0,f.jsx)(x.Z.Item,{name:"lever",label:"\u6760\u6746",onChange:function(e){ne(e.target.value)},rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(b.Z,{min:1,placeholder:"20=20\u500d\u6760\u6746"})}),(0,f.jsx)(x.Z.Item,{name:"margin",label:"\u4fdd\u8bc1\u91d1",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(b.Z,{min:1,placeholder:"100=100U"})}),(0,f.jsx)(x.Z.Item,{name:"indicator",label:"\u6307\u6807",rules:[{required:!0,message:"\u7c7b\u578b \u5fc5\u987b\u9009\u62e9"}],children:(0,f.jsx)(w.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"\u9009\u62e9\u6307\u6807",dropdownRender:function(e){return(0,f.jsxs)(f.Fragment,{children:[e,(0,f.jsx)(s.Z,{style:{margin:"8px 0"}}),(0,f.jsx)(d.Z,{style:{padding:"0 8px 4px"},children:(0,f.jsx)(h.Z,{type:"primary",icon:(0,f.jsx)(S.Z,{}),onClick:R,children:"\u6dfb\u52a0"})})]})},children:D.map((function(e){return(0,f.jsx)(k,{children:e},e)}))})}),(0,f.jsxs)(x.Z.Item,{label:"\u4ef7\u683c\u6b62\u76c8\u767e\u5206\u6bd4",children:[(0,f.jsx)(x.Z.Item,{name:"stopPft",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],onChange:function(e){X(e.target.value)},children:(0,f.jsx)(g.Z,{type:"number",placeholder:"1=1% \u4ef7\u683c\u6ce2\u52a8\u7684\u767e\u5206\u4e4b\u4e00"})}),(0,f.jsxs)("b",{children:["\u6760\u6746*\u4ef7\u683c\u6b62\u76c8\u767e\u5206\u6bd4=ROE:",1*V*te,"%"]})]}),(0,f.jsx)(x.Z.Item,{name:"sellRate",label:"\u5356\u51fa\u767e\u5206\u6bd4",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{type:"number",placeholder:"1=1% \u767e\u5206\u4e4b\u4e00"})}),(0,f.jsx)(x.Z.Item,{name:"stopLoss",label:"\u4ef7\u683c\u6b62\u635f\u767e\u5206\u6bd4",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{type:"number",placeholder:"1=1%"})}),(0,f.jsx)(x.Z.Item,{name:"stopLossRate",label:"\u6b62\u635f\u5356\u51fa\u767e\u5206\u6bd4",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{type:"number",placeholder:"1=\u5f53\u524d\u6301\u4ed3\u76841%"})}),(0,f.jsx)(x.Z.Item,{name:"startTime",label:"\u8fd0\u884c\u5f00\u59cb\u65f6\u95f4",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{type:"number",placeholder:"0"})}),(0,f.jsx)(x.Z.Item,{name:"endTime",label:"\u8fd0\u884c\u622a\u6b62\u65f6\u95f4",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{type:"number",placeholder:"24"})}),(0,f.jsx)(x.Z.Item,{name:"cancelTime",label:"\u6302\u5355\u64a4\u9500\u65f6\u95f4",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{type:"number",placeholder:"\u5355\u4f4d\u79d2 \u6302\u5355x\u79d2\u4e0d\u6210\u4ea4\u64a4\u9500\u91cd\u65b0\u6302\u5355"})}),(0,f.jsx)(x.Z.Item,{name:"startNowDo",label:"\u542f\u52a8\u7acb\u5373\u5f00\u5355:",valuePropName:"checked",children:(0,f.jsx)(I.Z,{})}),(0,f.jsx)(x.Z.Item,{name:"isNowDo",label:"\u53cd\u5411\u7acb\u5373\u5f00\u5355:",valuePropName:"checked",children:(0,f.jsx)(I.Z,{})})]})}),(0,f.jsx)(l.Z,{width:"70%",maskClosable:!1,title:"\u6dfb\u52a0\u6307\u6807",visible:q,onOk:function(){F.validateFields().then((function(e){var t="";"MA"===e.indicator&&(t="".concat(e.ktime,"&").concat(e.indicator,"|").concat(e.ii1,"&").concat(e.indicator,"|").concat(e.ii2)),"SAR"===e.indicator&&(t="".concat(e.ktime,"&").concat(e.indicator,"|").concat(e.ii3,"|").concat(e.ii1,"|").concat(e.ii2)),"BOLL"===e.indicator&&(t="".concat(e.ktime,"&").concat(e.indicator,"|").concat(e.ii1,"|").concat(e.ii2)),"KDJ"===e.indicator&&(t="".concat(e.ktime,"&").concat(e.indicator,"|").concat(e.ii1,"|").concat(e.ii2,"|").concat(e.ii3)),"MACD"===e.indicator&&(t="".concat(e.ktime,"&").concat(e.indicator,"|").concat(e.ii1,"|").concat(e.ii2,"|").concat(e.ii3)),ie(t),M(!1)}))},onCancel:function(){M(!1)},children:(0,f.jsxs)(x.Z,{form:F,labelCol:{span:4},wrapperCol:{span:18},children:[(0,f.jsx)(x.Z.Item,{name:"indicator",label:"\u6307\u6807",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsxs)(w.Z,{onChange:function(e){return U(e)},children:[(0,f.jsx)(k,{value:"SAR",children:"SAR"}),(0,f.jsx)(k,{value:"MA",children:"MA"}),(0,f.jsx)(k,{value:"KDJ",children:"KDJ"}),(0,f.jsx)(k,{value:"BOLL",children:"BOLL"}),(0,f.jsx)(k,{value:"MACD",children:"MACD"})]})}),(0,f.jsx)(x.Z.Item,{name:"ktime",label:"K\u5468\u671f",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsxs)(w.Z,{children:[(0,f.jsx)(k,{value:"1m",children:"1\u5206"}),(0,f.jsx)(k,{value:"3m",children:"3\u5206"}),(0,f.jsx)(k,{value:"5m",children:"5\u5206"}),(0,f.jsx)(k,{value:"15m",children:"15\u5206"}),(0,f.jsx)(k,{value:"30m",children:"30\u5206"}),(0,f.jsx)(k,{value:"1h",children:"1\u5c0f\u65f6"}),(0,f.jsx)(k,{value:"2h",children:"2\u5c0f\u65f6"}),(0,f.jsx)(k,{value:"4h",children:"4\u5c0f\u65f6"}),(0,f.jsx)(k,{value:"6h",children:"6\u5c0f\u65f6"}),(0,f.jsx)(k,{value:"8h",children:"8\u5c0f\u65f6"}),(0,f.jsx)(k,{value:"12h",children:"12\u5c0f\u65f6"}),(0,f.jsx)(k,{value:"1d",children:"1\u65e5"}),(0,f.jsx)(k,{value:"3d",children:"3\u65e5"}),(0,f.jsx)(k,{value:"1w",children:"1\u5468"}),(0,f.jsx)(k,{value:"1M",children:"1\u6708"})]})}),"MA"===z&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.Z.Item,{name:"ii1",label:"MA\u53c2\u65701",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"\u8f93\u51657=MA7"})}),(0,f.jsx)(x.Z.Item,{name:"ii2",label:"MA\u53c2\u65702",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"\u8f93\u516521=MA21"})})]}),"SAR"===z&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.Z.Item,{name:"ii3",label:"\u5f00\u59cb",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"\u9ed8\u8ba4\u8f93\u51650.02"})}),(0,f.jsx)(x.Z.Item,{name:"ii1",label:"\u589e\u91cf",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"\u9ed8\u8ba4\u8f93\u51650.02"})}),(0,f.jsx)(x.Z.Item,{name:"ii2",label:"\u6700\u5927",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"\u9ed8\u8ba4\u8f93\u51650.2"})})]}),"KDJ"===z&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.Z.Item,{name:"ii1",label:"\u8ba1\u7b97\u5468\u671f",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"\u9ed8\u8ba4\u8f93\u51659"})}),(0,f.jsx)(x.Z.Item,{name:"ii2",label:"\u79fb\u52a8\u5e73\u5747\u5468\u671f1",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"\u9ed8\u8ba4\u8f93\u51653"})}),(0,f.jsx)(x.Z.Item,{name:"ii3",label:"\u79fb\u52a8\u5e73\u5747\u5468\u671f2",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"\u9ed8\u8ba4\u8f93\u51653"})})]}),"BOLL"===z&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.Z.Item,{name:"ii1",label:"\u5468\u671f",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"\u9ed8\u8ba4\u8f93\u516521"})}),(0,f.jsx)(x.Z.Item,{name:"ii2",label:"\u5e26\u5bbd",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"\u9ed8\u8ba4\u8f93\u51652"})})]}),"MACD"===z&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.Z.Item,{name:"ii1",label:"\u5feb\u7ebf\u5468\u671f",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"\u9ed8\u8ba4\u8f93\u516512"})}),(0,f.jsx)(x.Z.Item,{name:"ii2",label:"\u6162\u7ebf\u5468\u671f",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"\u9ed8\u8ba4\u8f93\u516526"})}),(0,f.jsx)(x.Z.Item,{name:"ii3",label:"\u4fe1\u53f7\u5468\u671f",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,f.jsx)(g.Z,{placeholder:"\u9ed8\u8ba4\u8f93\u51659"})})]})]})})]})}var F=n(3231);function A(e){var t=e.visible,n=e.loading,i=e.onCancel,o=e.title,c=[{dataIndex:"asset",title:"\u8d44\u4ea7",width:100},{dataIndex:"walletBalance",title:"\u4f59\u989d",width:100},{dataIndex:"unrealizedProfit",title:"\u672a\u5b9e\u73b0\u76c8\u4e8f",width:100},{dataIndex:"marginBalance",title:"\u4fdd\u8bc1\u91d1\u4f59\u989d",width:100},{dataIndex:"maintMargin",title:"\u7ef4\u6301\u4fdd\u8bc1\u91d1",width:100},{dataIndex:"initialMargin",title:"\u5f53\u524d\u6240\u9700\u8d77\u59cb\u4fdd\u8bc1\u91d1",width:100},{dataIndex:"updateTime",title:"\u66f4\u65b0\u65f6\u95f4",width:180,render:function(e,t){var n=t.updateTime;return(0,f.jsx)(f.Fragment,{children:v(n)})}}],u=[{dataIndex:"symbol",title:"\u4ea4\u6613\u5bf9",width:100},{dataIndex:"initialMargin",title:"\u5f53\u524d\u6240\u9700\u8d77\u59cb\u4fdd\u8bc1\u91d1",width:100},{dataIndex:"maintMargin",title:"\u7ef4\u6301\u4fdd\u8bc1\u91d1",width:100},{dataIndex:"unrealizedProfit",title:"\u6301\u4ed3\u672a\u5b9e\u73b0\u76c8\u4e8f",width:100},{dataIndex:"leverage",title:"\u6760\u6746\u500d\u7387",width:100},{dataIndex:"entryPrice",title:"\u6301\u4ed3\u6210\u672c\u4ef7",width:100},{dataIndex:"positionSide",title:"\u6301\u4ed3\u65b9\u5411",width:100,render:function(e,t){var n=t.positionSide;return(0,f.jsx)(f.Fragment,{children:"SHORT"===n?"\u7a7a\u5355":"LONG"===n?"\u591a\u5355":""})}},{dataIndex:"positionAmt",title:"\u6301\u4ed3\u6570\u91cf",width:100,render:function(e,t){var n=t.positionAmt;return(0,f.jsx)(f.Fragment,{children:Math.abs(n)})}},{dataIndex:"updateTime",title:"\u66f4\u65b0\u65f6\u95f4",width:180,render:function(e,t){var n=t.updateTime;return(0,f.jsx)(f.Fragment,{children:v(n)})}}],h=(0,a.useState)([]),x=(0,r.Z)(h,2),g=x[0],Z=x[1],j=(0,a.useState)({}),y=(0,r.Z)(j,2),w=y[0],b=y[1],I=(0,a.useState)(!1),S=(0,r.Z)(I,2),k=S[0],C=S[1],A=(0,a.useState)("hy"),O=(0,r.Z)(A,2),q=O[0],M=O[1],R=(0,a.useState)("a"),P=(0,r.Z)(R,2),T=P[0],D=P[1];return(0,a.useEffect)((function(){C(!0),(0,p.D0)({type:q,type1:T}).then((function(e){var t=e.data.list,n=[];"hy"===q&&b(t),"hy"===q?"a"===T?t.assets.map((function(e){return 0===Number(e.walletBalance)&&0===Number(e.crossUnPnl)||n.push(e),e})):t.positions.map((function(e){return 0===Number(e.positionAmt)&&0===Number(e.unrealizedProfit)||n.push(e),e})):t.balances.map((function(e){return 0===Number(e.free)&&0===Number(e.locked)||n.push(e),e})),Z(n),C(!1)}))}),[q,T]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(l.Z,{forceRender:!0,title:o,visible:t,onCancel:i,onOk:i,maskClosable:!1,okButtonProps:{loading:n},width:"80%",bodyStyle:{height:2*window.innerHeight/3,overflowY:"auto"},children:(0,f.jsxs)("div",{children:[(0,f.jsxs)(d.Z,{style:{marginBottom:5,marginRight:30},children:["\u8d26\u6237\u7c7b\u578b:",(0,f.jsxs)(F.ZP.Group,{value:q,onChange:function(e){M(e.target.value)},children:[(0,f.jsx)(F.ZP.Button,{value:"hy",children:"\u5408\u7ea6"}),(0,f.jsx)(F.ZP.Button,{value:"xh",children:"\u73b0\u8d27"})]})]}),"hy"===q&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d.Z,{style:{marginBottom:5},children:["\u8d44\u4ea7\u7c7b\u578b:",(0,f.jsxs)(F.ZP.Group,{value:T,onChange:function(e){D(e.target.value)},children:[(0,f.jsx)(F.ZP.Button,{value:"a",children:"\u8d44\u4ea7"}),(0,f.jsx)(F.ZP.Button,{value:"p",children:"\u6301\u4ed3"})]})]})}),(0,f.jsx)(s.Z,{}),"hy"===q&&(0,f.jsxs)(d.Z,{style:{color:"red"},children:["\u4ee5USD\u8ba1\u4ef7\u7684\u5168\u4ed3\u672a\u5b9e\u73b0\u76c8\u4e8f\u603b\u989d:",w.totalCrossUnPnl]}),(0,f.jsx)(s.Z,{}),(0,f.jsx)(m.Z,{scroll:{x:2*window.innerWidth/3,y:2*window.innerHeight/3},loading:k,rowkey:function(e,t){return t},dataSource:g,columns:"hy"===q?"a"===T?c:u:[{dataIndex:"asset",title:"\u4ea4\u6613\u5bf9",width:100},{dataIndex:"free",title:"\u53ef\u7528\u4f59\u989d",width:180},{dataIndex:"locked",title:"\u9501\u5b9a\u8d44\u91d1",width:180}]})]})})})}var O={topbtn:{margin:20}};function q(e,t){l.Z.confirm({title:"\u6e05\u4ed3\u63d0\u793a",content:(0,f.jsxs)("p",{children:["\u786e\u5b9a\u6e05\u4ed3 ","hy"===e?"\u5408\u7ea6":"\u73b0\u8d27"," \u5417?"]}),onOk:function(){try{(0,p.Wk)({type:e}).then((function(e){o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"\u6e05\u4ed3\u6210\u529f=>".concat(JSON.stringify(e.data))}),t()}))}catch(n){o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"\u6e05\u4ed3\u5931\u8d25=>".concat(n)}),t()}}})}function M(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}var R=function(){var e=(0,a.useState)({list:[],pagination:{page:1,pageSize:10,total:0}}),t=(0,r.Z)(e,2),n=t[0],x=t[1],g=(0,a.useState)({list:[],pagination:{page:1,pageSize:10,total:0}}),v=(0,r.Z)(g,2),y=v[0],w=v[1],b=(0,a.useState)({page:1,pageSize:10}),I=(0,r.Z)(b,2),S=I[0],k=I[1],F=(0,a.useState)(!1),R=(0,r.Z)(F,2),P=R[0],T=R[1],D=(0,a.useState)(!1),N=(0,r.Z)(D,2),B=N[0],L=N[1],z=(0,a.useState)(""),U=(0,r.Z)(z,2),J=U[0],H=U[1],K=(0,a.useState)(!1),E=(0,r.Z)(K,2),Y=E[0],G=E[1],W=(0,a.useState)({}),_=(0,r.Z)(W,2),Q=_[0],V=_[1],X=(0,a.useState)(!1),$=(0,r.Z)(X,2),ee=$[0],te=$[1];(0,a.useEffect)((function(){}),[y]),(0,a.useEffect)((function(){var e=!0;return T(!0),(0,p.iE)(S).then((function(t){if(e){var n={pagination:{}};n.list=t.data.data,n.pagination.page=t.data.page,n.pagination.pageSize=t.data.pageSize,n.pagination.total=t.data.total,x(n)}})).catch((function(e){console.log(e)})).finally((function(){return e&&T(!1)})),function(){e=!1}}),[S]);var ne,ie=[{dataIndex:"key",title:"\u8ba2\u5355\u53f7",width:80,display:"none",fixed:"left"},{dataIndex:"symbol",title:"\u4ea4\u6613\u5bf9",width:80},{dataIndex:"price",title:"\u4ef7\u683c",width:80},{dataIndex:"qty",title:"\u6570\u91cf",width:80},{dataIndex:"realizedPnl",title:"\u6536\u76ca",width:80},{dataIndex:"side",title:"\u52a8\u4f5c",width:80,render:function(e,t){var n=t.side;return(0,f.jsx)(f.Fragment,{children:"BUY"===n?"\u4e70\u5165":"\u5356\u51fa"})}},{dataIndex:"positionSide",title:"\u65b9\u5411",width:80,render:function(e,t){var n=t.positionSide;return(0,f.jsx)(f.Fragment,{children:"SHORT"===n?"\u7a7a\u5355":"LONG"===n?"\u591a\u5355":""})}},{dataIndex:"time",title:"\u65f6\u95f4",width:80,render:function(e,t){return M(t.time)}}],re=[{dataIndex:"key",title:"\u8ba2\u5355\u53f7",width:80,display:"none",fixed:"left"},{dataIndex:"symbol",title:"\u4ea4\u6613\u5bf9",width:80},{dataIndex:"price",title:"\u4ef7\u683c",width:80},{dataIndex:"executedQty",title:"\u6570\u91cf",width:80},{dataIndex:"side",title:"\u52a8\u4f5c",width:80,render:function(e,t){var n=t.side;return(0,f.jsx)(f.Fragment,{children:"BUY"===n?"\u4e70\u5165":"\u5356\u51fa"})}},{dataIndex:"time",title:"\u65f6\u95f4",width:80,render:function(e,t){return M(t.time)}}],ae=[{dataIndex:"key",title:"\u7f16\u53f7",width:80,fixed:"left",defaultSortOrder:"descend",sorter:function(e,t){return e.key-t.key}},{dataIndex:"type",title:"\u7c7b\u578b",width:100,render:function(e,t){var n=t.type;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(c.Z,{children:"hy"===n?"\u5408\u7ea6":"\u73b0\u8d27"})})}},{dataIndex:"coin",title:"\u5e01\u79cd",width:150},{dataIndex:"status",title:"\u72b6\u6001",width:100,filters:[{text:"\u505c\u6b62",value:0},{text:"\u8fd0\u884c",value:1}],filterMultiple:!1,render:function(e,t){var n=t.status;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(c.Z,{color:1===n?"#32CD32":"#FF6A6A",children:1===n?"\u8fd0\u884c":"\u505c\u6b62"},n)})}},{dataIndex:"orderType",title:"\u4e0b\u5355\u7c7b\u578b",width:100,render:function(e,t){var n=t.orderType;return(0,f.jsx)(f.Fragment,{children:"limit"===n?"\u9650\u4ef7":"maker"===n?"\u53ea\u505aMaker":"\u5e02\u4ef7"})}},{dataIndex:"indicator",title:"\u6307\u6807",width:200,render:function(e,t){var n=t.indicator;return(0,f.jsx)(f.Fragment,{children:n.map((function(e){var t=["#FFC125","#FF6A6A","#9B30FF","#3299cc","#32CD32","#8B658B","#FF8247","#698B22","#53868B"],n=Math.floor(Math.random()*t.length-1);return(0,f.jsx)(c.Z,{color:t[n],children:e},e)}))})}},{dataIndex:"lever",title:"\u6760\u6746",width:150},{dataIndex:"margin",title:"\u4fdd\u8bc1\u91d1",width:150},{dataIndex:"minAmount",title:"\u6700\u5c0f\u4e0b\u5355U",width:150},{dataIndex:"orderRate",title:"\u4e0b\u5355\u4ed3\u4f4d\u6bd4",width:150},{dataIndex:"stopPft",title:"\u4ef7\u683c\u6b62\u76c8\u767e\u5206\u6bd4",width:150},{dataIndex:"sellRate",title:"\u5356\u51fa\u767e\u5206\u6bd4",width:150},{dataIndex:"stopLoss",title:"\u4ef7\u683c\u6b62\u635f\u767e\u5206\u6bd4",width:150},{dataIndex:"cancelTime",title:"\u6302\u5355\u64a4\u9500\u65f6\u95f4",width:150},{dataIndex:"startTime",title:"\u5f00\u59cb\u65f6\u95f4",width:100},{dataIndex:"endTime",title:"\u505c\u6b62\u65f6\u95f4",width:100},{title:"\u64cd\u4f5c",key:"action",width:300,fixed:"right",render:function(e,t){return(0,f.jsxs)(d.Z,{children:[(0,f.jsx)("span",{style:{cursor:"pointer"},onClick:function(){var e,n,i;e=t.type,n=t.coin,i=function(){console.log("\u5e73\u4ed3ok")},l.Z.confirm({title:"\u6e05\u4ed3\u63d0\u793a",content:(0,f.jsxs)("p",{children:["\u786e\u5b9a\u5e73\u4ed3 ",n," ","hy"===e?"\u5408\u7ea6":"\u73b0\u8d27"," \u5417?"]}),onOk:function(){try{(0,p.tG)({type:e,symbol:n}).then((function(e){o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"\u5e73\u4ed3\u6210\u529f=>".concat(JSON.stringify(e.data))}),i()}))}catch(t){o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"\u5e73\u4ed3\u5931\u8d25=>".concat(t)}),i()}}})},children:"\u5e73\u4ed3"}),"|",(0,f.jsx)("span",{style:{cursor:"pointer"},onClick:function(){!function(e){(0,p.ln)(e).then((function(e){l.Z.confirm({title:"\u6301\u4ed3\u8be6\u60c5",content:(0,f.jsx)("div",{children:e.data.list.map((function(e){return(0,f.jsxs)("div",{children:[e,(0,f.jsx)(s.Z,{})]},e)}))})})})).catch((function(e){o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"\u67e5\u770b\u8be6\u60c5\u5931\u8d25=>".concat(e)})}))}(t)},children:"\u8be6\u60c5"}),"|",(0,f.jsx)("span",{style:{cursor:"pointer"},onClick:function(){V(t),H("update")},children:"\u4fee\u6539"}),"|",(0,f.jsx)("span",{style:{cursor:"pointer",color:1===t.status?"#FF6A6A":"#32CD32"},onClick:function(){return function(e,t){l.Z.confirm({title:"\u6e29\u99a8\u63d0\u793a",content:(0,f.jsxs)("p",{children:["\u786e\u5b9a",1===e.status?"\u505c\u6b62":"\u542f\u52a8"," ","hy"===e.type?"\u5408\u7ea6":"\u73b0\u8d27"," ",e.coin," \u5417?"]}),onOk:function(){try{(0,p.JC)(e).then((function(n){o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"".concat(1===e.status?"\u505c\u6b62":"\u542f\u52a8").concat(200===n.data.code?"\u6210\u529f":"\u5931\u8d25","=>").concat(JSON.stringify(n.data))}),t()})).catch((function(t){o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"".concat(1===e.status?"\u505c\u6b62":"\u542f\u52a8","\u5931\u8d25=>").concat(t)})}))}catch(n){o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"".concat(1===e.status?"\u505c\u6b62":"\u542f\u52a8","\u5931\u8d25=>").concat(n)})}}})}(t,(function(){return k((function(e){var t=e.page||1;return(0,i.Z)((0,i.Z)({},e),{},{page:1===n.list.length?j(t-1,1,t):t})}))}))},children:1===t.status?"\u505c\u6b62":"\u542f\u52a8"}),"|",(0,f.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return function(e,t){l.Z.confirm({title:"\u5220\u9664\u63d0\u793a",content:(0,f.jsxs)("p",{children:["\u786e\u5b9a\u5220\u9664 ","hy"===e.type?"\u5408\u7ea6":"\u73b0\u8d27"," ",e.coin," \u5417?"]}),onOk:function(){try{(0,p.yn)(e).then((function(e){o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"\u5220\u9664\u6210\u529f=>".concat(JSON.stringify(e.data))}),t()}))}catch(n){o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"\u5220\u9664\u5931\u8d25=>".concat(n)}),t()}}})}(t,(function(){return k((function(e){var t=e.page||1;return(0,i.Z)((0,i.Z)({},e),{},{page:1===n.list.length?j(t-1,1,t):t})}))}))},children:"\u5220\u9664"}),"|",(0,f.jsx)("span",{style:{cursor:"pointer"},onClick:function(){te(!0),V((0,i.Z)((0,i.Z)({},t),{},{flag:1}));var e=!0;L(!0),(0,p.AU)((0,i.Z)((0,i.Z)({},t),{},{flag:1})).then((function(t){if(e){var n={pagination:{}};n.list=t.data.list,n.pagination.total=t.data.total,n.pagination.page=y.pagination.page,n.pagination.pageSize=y.pagination.pageSize,w(n)}})).finally((function(){e&&(L(!1),e=!1)}))},children:"\u672a\u6210\u4ea4"}),"|",(0,f.jsx)("span",{style:{cursor:"pointer"},onClick:function(){te(!0),V((0,i.Z)((0,i.Z)({},t),{},{flag:2}));var e=!0;L(!0),(0,p.AU)((0,i.Z)((0,i.Z)({},t),{},{flag:2})).then((function(t){if(e){var n={pagination:{}};n.list=t.data.list,n.pagination.total=t.data.total,n.pagination.page=y.pagination.page,n.pagination.pageSize=y.pagination.pageSize,w(n)}})).finally((function(){e&&(L(!1),e=!1)}))},children:"\u8ba2\u5355"})]})}}];return(0,f.jsxs)("div",{style:{height:"1000px"},children:[(0,f.jsx)(s.Z,{children:"\u5e01\u79cd\u914d\u7f6e\u9875\u9762"}),(0,f.jsx)(Z,{onSubmit:function(e){void 0!==e.coin?k((function(t){return(0,i.Z)((0,i.Z)((0,i.Z)({},t),e),{},{page:1})})):u.ZP.success("\u641c\u7d22\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a")},onReset:function(e){return k((function(t){return(0,i.Z)((0,i.Z)((0,i.Z)({},t),e),{},{page:1})}))}}),(0,f.jsx)(s.Z,{}),(0,f.jsxs)("div",{style:{margin:"15px 0"},children:[(0,f.jsx)(d.Z,{style:O.topbtn,children:(0,f.jsx)(h.Z,{type:"primary",onClick:function(){return H("create")},children:"\u6dfb\u52a0\u5e01\u79cd"})}),(0,f.jsx)(d.Z,{style:O.topbtn,children:(0,f.jsx)(h.Z,{type:"primary",onClick:function(){return q("hy",(function(){return k((function(e){var t=e.page||1;return(0,i.Z)((0,i.Z)({},e),{},{page:1===n.list.length?j(t-1,1,t):t})}))}))},children:"\u4e00\u952e\u6e05\u4ed3&\u5408\u7ea6"})}),(0,f.jsx)(d.Z,{style:O.topbtn,children:(0,f.jsx)(h.Z,{type:"primary",onClick:function(){return q("xh",(function(){return k((function(e){var t=e.page||1;return(0,i.Z)((0,i.Z)({},e),{},{page:1===n.list.length?j(t-1,1,t):t})}))}))},children:"\u4e00\u952e\u6e05\u4ed3&\u73b0\u8d27"})}),(0,f.jsx)(d.Z,{style:O.topbtn,children:(0,f.jsx)(h.Z,{type:"primary",onClick:function(){return H("detail")},children:"\u8d26\u6237\u8be6\u60c5"})})]}),(0,f.jsx)(s.Z,{}),(0,f.jsx)(m.Z,{scroll:{x:2*window.innerWidth/3,y:2*window.innerHeight/3},rowSelection:{onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)}},pagination:(0,i.Z)({},(ne=n.pagination,{current:ne.page,total:ne.total,pageSize:ne.pageSize,showTotal:function(){return"\u6bcf\u9875".concat(ne.pageSize,"\u6761\u6570\u636e\uff0c\u5171").concat(ne.total,"\u6761")}})),onChange:function(e,t,n){k((function(r){return(0,i.Z)((0,i.Z)({},r),{},{page:e.current||1,pageSize:e.pageSize||10,status:t.status&&t.status.length>0?Number(t.status[0]):void 0,order:!Array.isArray(n)&&n.order&&"key"===n.field?{ascend:0,descend:1}[n.order]:void 0})}))},loading:P,rowkey:function(e){return e.primaryKey},dataSource:n.list,columns:ae}),"detail"===J&&(0,f.jsx)(A,{title:"\u8d26\u6237\u8be6\u60c5",visible:"detail"===J,loading:Y,onCancel:function(){return H("")}}),(0,f.jsx)(C,{title:"\u6dfb\u52a0\u5e01\u79cd",visible:"create"===J,onCreate:function(e){G(!0);try{(0,p.iL)(e).then((function(e){200===e.data.code?o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"\u4fee\u6539\u6210\u529f".concat(JSON.stringify(e.data))}):o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"\u4fee\u6539\u5931\u8d25".concat(JSON.stringify(e.data))}),k((function(e){return(0,i.Z)({},e)})),H("")}))}catch(t){u.ZP.error("\u521b\u5efa\u5931\u8d25")}finally{G(!1)}},onCancel:function(){return H("")},loading:Y}),"update"===J&&(0,f.jsx)(C,{title:"\u4fee\u6539\u5e01\u79cd",visible:"update"===J,record:Q,onUpdate:function(e){G(!0);try{(0,p.iL)(e).then((function(e){200===e.data.code?o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"\u4fee\u6539\u6210\u529f".concat(JSON.stringify(e.data))}):o.Z.open({message:"\u6d88\u606f\u901a\u77e5",description:"\u4fee\u6539\u5931\u8d25".concat(JSON.stringify(e.data))}),k((function(e){return(0,i.Z)({},e)})),H("")}))}catch(t){u.ZP.error("\u4fee\u6539\u5931\u8d25")}finally{G(!1)}},onCancel:function(){return H("")},loading:Y}),(0,f.jsx)(l.Z,{visible:ee,onOk:function(){return te(!1)},onCancel:function(){return te(!1)},width:"80%",bodyStyle:{height:2*window.innerHeight/3,overflowY:"auto"},title:"".concat(Q.coin,"-").concat("hy"===Q.type?"\u5408\u7ea6":"\u73b0\u8d27","-").concat(1===Q.flag?"\u672a\u6210\u4ea4\u8ba2\u5355":"\u5386\u53f2\u8ba2\u5355"),children:(0,f.jsx)(m.Z,{scroll:{x:2*window.innerWidth/3,y:2*window.innerHeight/3},loading:B,rowkey:function(e){return e.primaryKey},dataSource:y.list,columns:"hy"===Q.type?ie:re})})]})}}}]);
//# sourceMappingURL=292.6df27e14.chunk.js.map